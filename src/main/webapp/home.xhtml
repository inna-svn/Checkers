<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
>
<h:head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title><ui:insert name="title">Checkers</ui:insert></title>
</h:head>
<h:body>
    You are logged in, #{userSession.username}<br/>
    <h:form id="signout">
        <h:commandButton value="Sign Out" action="#{userSession.signOut}"/>
    </h:form>
    <br/>
    <h2>Join one of the Lobbies</h2>
        <ui:repeat value="#{userSession.availableLobbies}" var="lobby">

            <h3>#{lobby.gameName} - #{lobby.users.size()} user(s)</h3>
                <h:form>
                    <h:commandButton value="Regular Game" action="#{userSession.joinLobby(lobby, 'REGULAR')}"/>
                    <br/><br/>
                    <h:commandButton value="Preset KING State For Test" action="#{userSession.joinLobby(lobby, 'TEST1')}"/>
                    <br/><br/>
                    <h:commandButton value="Preset END-GAME For Test" action="#{userSession.joinLobby(lobby, 'TEST2')}"/>
                </h:form>
        </ui:repeat>
    <!--    <h:link outcome="lobby.html"></h:link>-->
</h:body>
</html>